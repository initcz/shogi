// Generated by CoffeeScript 1.6.3
var Figure, ShogiGame, constant;

constant = {
  action: {
    RESET: 0,
    MOVE: 1,
    PROMOTE: 2
  },
  figureType: {
    KING: 0,
    GOLDEN_GENERAL: 1,
    SILVER_GENERAL: 2,
    BISHOP: 3,
    TOWER: 4,
    JAVELINEER: 5,
    RIDER: 6,
    PAWN: 7
  },
  owner: {
    A: 0,
    B: 1
  }
};

Figure = (function() {
  function Figure(id, type, owner, x, y) {
    this.id = id;
    this.type = type;
    this.owner = owner;
    this.x = x;
    this.y = y;
    this.promoted = false;
  }

  return Figure;

})();

ShogiGame = (function() {
  function ShogiGame(wsUri) {
    this.initWS(wsUri);
  }

  ShogiGame.prototype.initWS = function(wsUri) {
    this._ws = new WebSocket(wsUri);
    this._ws.onopen = function(evt) {
      console.log('[open]');
      return console.log(evt);
    };
    this._ws.onclose = function(evt) {
      console.log('[close]');
      return console.log(evt);
    };
    this._ws.onmessage = function(evt) {
      console.log('[msg]');
      return console.log(evt.data);
    };
    return this._ws.onerror = function(evt) {
      console.log('[err]');
      return console.log(evt);
    };
  };

  ShogiGame.prototype.initUI = function(id) {
    var cellId, html, max_i, max_j;
    max_i = 9;
    max_j = 9;
    html = '<table>';
    cellId = '';
    
    for (var i=0; i<max_i; i++) {
      html += '<tr>';
      for (var j=0; j<max_j; j++) {
        cellId = 'R' + i + 'C' + j;
        html += '<td id="' + cellId + '">' + cellId + '</td>';
      }
      html += '</tr>';
    }
    ;
    html += '</table>';
    return $('#' + id).append(html);
  };

  ShogiGame.prototype.reset = function() {};

  ShogiGame.prototype.move = function() {};

  ShogiGame.prototype.promote = function() {};

  return ShogiGame;

})();
